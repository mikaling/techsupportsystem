Database name: tech_support_db


Create tables:

CREATE TABLE `tech_support_db`.`users` ( `user_id` INT(5) NOT NULL AUTO_INCREMENT , `email` VARCHAR(50) NOT NULL , `password` VARCHAR(256) NOT NULL , `user_type` VARCHAR(20) NOT NULL DEFAULT 'staff' , PRIMARY KEY (`user_id`)) ENGINE = InnoDB;
CREATE TABLE `tech_support_db`.`tickets` ( `ticket_id` INT(10) NOT NULL AUTO_INCREMENT , `title` VARCHAR(50) NOT NULL , `description` TEXT NOT NULL , `assigned_to` VARCHAR(30) NOT NULL , `priority` VARCHAR(30) NOT NULL , `status` VARCHAR(30) NOT NULL , `category` VARCHAR(30) NOT NULL , `opened_by` VARCHAR(30) NOT NULL , `opened_date` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP , `staff_id` INT(5) NOT NULL , `support_id` INT(5) NOT NULL , PRIMARY KEY (`ticket_id`), INDEX (`staff_id`), INDEX (`support_id`)) ENGINE = InnoDB;

Creating relationships:

ALTER TABLE `tickets` ADD FOREIGN KEY (`staff_id`) REFERENCES `users`(`user_id`) ON DELETE RESTRICT ON UPDATE RESTRICT; ALTER TABLE `tickets` ADD FOREIGN KEY (`support_id`) REFERENCES `users`(`user_id`) ON DELETE RESTRICT ON UPDATE RESTRICT;

Things I forgot and added later:

ALTER TABLE `tickets` CHANGE `status` `status` VARCHAR(30) CHARACTER SET latin1 COLLATE latin1_swedish_ci NOT NULL DEFAULT 'Pending';